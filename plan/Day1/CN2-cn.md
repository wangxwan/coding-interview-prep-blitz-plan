# CN2. 从输入URL到页面展示发生了什么  
 

## 教程  
  
[当你在浏览器中输入一个网址并按下回车键时会发生什么？计算机知识 #18(video)](https://www.youtube.com/watch?v=vvpCnjyjTuU)  


  
## 解答  

1. **输⼊ URL(Uniform Resource Locator) 并解析**：
    1.1 用户在浏览器地址栏中输入 URL
    1.2 输⼊ URL 后，浏览器会解析出协议、主机、端⼝、路径等信息，并构造⼀个 HTTP 请求
    1.3 浏览器会根据请求头判断是否有 **HTTP 缓存**，并根据是否有缓存决定是从服务器获取资源还是使用缓存资源
2. **DNS 域名解析**：浏览器通过 DNS(Domain Name System) 将域名解析为 IP 地址，以确定要连接的服务器位置  
3. **建立连接**：浏览器使用解析得到的 IP 地址，与服务器建立网络连接。这通常涉及**使用 TCP 协议进行三次握手**
4. **发送请求**：浏览器向 web 服务器发送 **HTTP/HTTPS 请求**，请求服务器的网页内容。请求中包含了要访问的路径、方法(GET、POST等)、头部信息等
5. **服务器处理**：服务器接收到请求后将其传递给请求处理程序，根据请求的内容和路径，处理 HTTP 请求并发送 HTTP 响应。服务器可能从数据库中获取数据，生成动态内容，然后将响应发送回浏览器
6. **接收响应**：浏览器接收到服务器的响应，一般**响应报文**包含：请求的网页以及**状态码**，压缩类型，如何缓存的页面，设置的cookie
7. **浏览器加载页面**：
    7.1 解析和渲染：浏览器开始解析响应内容，构建文档对象模型(DOM)和渲染树。它解析HTML、CSS和JavaScript，并确定页面的结构、样式和行为
    7.2 页面渲染：浏览器使用渲染树和样式信息，将页面内容绘制到屏幕上。这包括布局、绘制和显示页面元素
    7.3 执行JavaScript：如果页面包含JavaScript，浏览器会执行JavaScript代码，添加交互和动态行为
    7.4 加载资源：页面中可能包含外部资源，如图片、样式表、脚本文件等。浏览器会根据需要下载这些资源，以完整地呈现页面
    7.5 完成页面加载：页面的所有内容和资源加载完成后，浏览器显示完整的页面
8. **断开连接**：**TCP 四次挥手**